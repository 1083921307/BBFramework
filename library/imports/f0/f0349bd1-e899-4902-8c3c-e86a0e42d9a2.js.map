{"version":3,"sources":["assets\\framework\\view\\base\\BaseViewCtrl.ts"],"names":[],"mappings":";;;;;;AAAA,uCAAkC;AAElC;IAAA;IAyCA,CAAC;IAjCG,iCAAU,GAAV,UAAW,OAAgB,EAAE,OAAuB;QAAvB,wBAAA,EAAA,cAAuB;QAChD,IAAI,OAAO,EAAE;SAEZ;IACL,CAAC;IAED,mCAAY,GAAZ,UAAa,IAAe,EAAE,OAAwB;QAAxB,wBAAA,EAAA,eAAwB;QAClD,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAClD,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;gBAC7B,IAAG,EAAE,CAAC,OAAO,CAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE;oBACzC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;iBACvC;gBACD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAChC;SACJ;IACL,CAAC;IAED,8BAAO,GAAP,UAAQ,OAAwB,EAAE,MAAyB;QAAnD,wBAAA,EAAA,eAAwB;QAC5B,IAAI,UAAU,GAAG;YACb,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;aAClD;YACD,OAAO,IAAI,EAAE,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACzD,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QAC5B,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACb,IAAI,MAAM,EAAE;YACR,kBAAQ,CAAC,WAAW,EAAE,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE;gBAC3D,UAAU,EAAE,CAAC;YACjB,CAAC,CAAC,CAAC;YACH,OAAO;SACV;QACD,UAAU,EAAE,CAAC;IACjB,CAAC;IACL,mBAAC;AAAD,CAzCA,AAyCC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import UIAction from \"./UIAction\";\r\n\r\nexport default class BaseViewCtrl {\r\n    rootPrefab: cc.Prefab;\r\n    rootView: cc.Node;\r\n    data: any;\r\n    subUIStack: bb.UICtrl[];\r\n    parentUICtrl: bb.UICtrl;\r\n\r\n\r\n    setVisible(visible: boolean, cleanup: boolean = true) {\r\n        if (visible) {\r\n            \r\n        }\r\n    }\r\n\r\n    removeUICtrl(ctrl: bb.UICtrl, cleanup: boolean = false) {\r\n        for (let i = this.subUIStack.length - 1; i >= 0; i--) {\r\n            if (this.subUIStack[i] === ctrl) {\r\n                if(cc.isValid( this.subUIStack[i].rootView)) {\r\n                    this.subUIStack[i].closeUI(cleanup);\r\n                }\r\n                this.subUIStack.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    closeUI(cleanup: boolean = false, action?: bb.UI_ACTION_OUT) {\r\n        let destroyFun = function() {\r\n            if (this.parentUICtrl) {\r\n                this.parentUICtrl.removeUICtrlFromParent(this);\r\n            }\r\n            cleanup && cc.assetManager.releaseAsset(this.rootPrefab);\r\n            this.rootView.destroy();\r\n        }.bind(this);\r\n        if (action) {\r\n            UIAction.getInstance().runViewOutAction(action, this.rootView, () => {\r\n                destroyFun();\r\n            });\r\n            return;\r\n        }\r\n        destroyFun();\r\n    }\r\n}"]}