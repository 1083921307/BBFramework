{"version":3,"sources":["assets\\framework\\pool\\PoolManager.ts"],"names":[],"mappings":";;;;;;AAAA,uCAAkC;AAElC,QAAQ;AAIR;IAAA;QACI,cAAS,GAA8B,EAAE,CAAC;IAiD9C,CAAC;IA9CU,uBAAW,GAAlB;QACI,IAAI,WAAW,CAAC,SAAS,IAAI,IAAI,EAAE;YAC/B,WAAW,CAAC,SAAS,GAAG,IAAI,WAAW,EAAE,CAAC;SAC7C;QACD,OAAO,WAAW,CAAC,SAAS,CAAC;IACjC,CAAC;IAED,6BAAO,GAAP,UAAQ,IAAY,EAAE,IAAc;QAChC,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACtB,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAChC,CAAC;IAED,6BAAO,GAAP,UAAQ,IAAY;QAChB,OAAQ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,mCAAa,GAAb,UAAc,IAAY,EAAE,MAAiB;QACzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACvB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,kBAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;SAClD;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,iCAAW,GAAX,UAAY,IAAY;QACpB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACvB,OAAO,IAAI,CAAC;SACf;QACD,OAAQ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;IACvC,CAAC;IAED,iCAAW,GAAX,UAAY,IAAY,EAAE,MAAe;QACrC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACvB,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;IAED,gCAAU,GAAV,UAAW,IAAY;QACnB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACvB,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QAC5B,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IA9CM,qBAAS,GAAgB,IAAI,CAAC;IA+CzC,kBAAC;CAlDD,AAkDC,IAAA;kBAlDoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import UserPool from \"./UserPool\";\r\n\r\n// 缓存管理池\r\n\r\n\r\n\r\nexport default class PoolManager  {\r\n    _pool_map: {[key: string]: UserPool} = {};\r\n\r\n    static _instance: PoolManager = null;\r\n    static getInstance(): PoolManager {\r\n        if (PoolManager._instance == null) {\r\n            PoolManager._instance = new PoolManager();\r\n        }\r\n        return PoolManager._instance;\r\n    }\r\n\r\n    addPool(name: string, pool: UserPool) {\r\n        if (this._pool_map[name]) {\r\n            return;\r\n        }\r\n        this._pool_map[name] = pool;\r\n    }\r\n\r\n    getPool(name: string) {\r\n        return  this._pool_map[name];\r\n    }\r\n\r\n    getPoolByName(name: string, prefab: cc.Prefab) {\r\n        if (!this._pool_map[name]) {\r\n            this._pool_map[name] = new UserPool(prefab, 3);\r\n        }\r\n        return this._pool_map[name];\r\n    }\r\n\r\n    getPoolNode(name: string) {\r\n        if (!this._pool_map[name]) {\r\n            return null;\r\n        }\r\n        return  this._pool_map[name].get();\r\n    }\r\n\r\n    putPoolNode(name: string, target: cc.Node) {\r\n        if (!this._pool_map[name]) {\r\n            return;\r\n        }\r\n        this._pool_map[name].put(target);\r\n    }\r\n\r\n    removePool(name: string) {\r\n        if (!this._pool_map[name]) {\r\n            return;\r\n        }\r\n        this._pool_map[name] = null;\r\n        delete this._pool_map[name];\r\n    }\r\n}"]}