{"version":3,"sources":["assets\\framework\\log\\AppLog.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nexport default class AppLog {\r\n    static singleInstance: AppLog = null;\r\n    static getInstance(): AppLog {\r\n        if (AppLog.singleInstance == null) {\r\n            AppLog.singleInstance = new AppLog();\r\n        }\r\n        return AppLog.singleInstance;\r\n    }\r\n\r\n    isLog: boolean = true;\r\n\r\n    log() {\r\n        if (!this.isLog) {\r\n            return;\r\n        }\r\n        var backLog = cc.log || console.log ||  window[\"log\"];\r\n        backLog.call(AppLog, \"%s%s\" + cc.js.formatStr.apply(cc, arguments),this._getDateString(), this._stack());\r\n    }\r\n\r\n    info() {\r\n        if (!this.isLog) {\r\n            return;\r\n        }\r\n        var backLog = cc.log || console.log || window[\"log\"];\r\n        backLog.call(AppLog, \"%c%s%s:\" + cc.js.formatStr.apply(cc, arguments), \"color:#00CD00;\", this._getDateString(), this._stack());\r\n    }\r\n\r\n    log2() {\r\n        if (!this.isLog) {\r\n            return;\r\n        }\r\n        var backLog = cc.log || console.log ||  window[\"log\"];\r\n        backLog.call(AppLog, \"%c%s%s:\" + cc.js.formatStr.apply(cc, arguments), \"color:#EED2EE;\", this._getDateString(), this._stack());\r\n    };\r\n    \r\n    info2() {\r\n        if (!this.isLog) {\r\n            return;\r\n        }\r\n        var backLog = cc.log || console.log ||  window[\"log\"];\r\n        backLog.call(AppLog, \"%c%s%s:\" + cc.js.formatStr.apply(cc, arguments),  \"color:#F08080;\", this._getDateString(), this._stack());\r\n    };\r\n    \r\n    info3() {\r\n        if (!this.isLog) {\r\n            return;\r\n        }\r\n        var backLog = cc.log || console.log ||  window[\"log\"];\r\n        backLog.call(AppLog, \"%c%s%s:\" + cc.js.formatStr.apply(cc, arguments), \"color:#9B30FF;\", this._getDateString(), this._stack());\r\n    };\r\n\r\n\r\n    warn() {\r\n        if (!this.isLog) {\r\n            return;\r\n        }\r\n        var backLog = cc.log || console.log ||  window[\"log\"];\r\n        backLog.call(AppLog, \"%c%s%s:\" + cc.js.formatStr.apply(cc, arguments), \"color:#ee7700;\", this._getDateString(), this._stack());\r\n    };\r\n\r\n    error() {\r\n        if (!this.isLog) {\r\n            return;\r\n        }\r\n        var backLog = cc.log || console.log ||  window[\"log\"];\r\n        backLog.call(AppLog, \"%c%s%s:\" + cc.js.formatStr.apply(cc, arguments), \"color:red\", this._getDateString(), this._stack());\r\n    };\r\n\r\n    _stack() {\r\n        var e = new Error();\r\n        var lines = e.stack.split(\"\\n\");\r\n        lines.shift();\r\n        var result = [];\r\n        lines.forEach((line) => {\r\n            line = line.substring(7);\r\n            var lineBreak = line.split(\" \");\r\n            if (lineBreak.length < 2) {\r\n                result.push(lineBreak[0]);\r\n            } else {\r\n                result.push({[lineBreak[0]]: lineBreak[1]});\r\n            }\r\n        });\r\n    \r\n    \r\n        var list = [];\r\n    \r\n        let result_idx = -1;\r\n        for (var i = 0; i < result.length; i++) {\r\n            for (var a in result[i]) {\r\n                var l = a.split(\".\");\r\n                if (l[0] !== \"AppLog\") {\r\n                    result_idx = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (result_idx >= 0) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        let result_list  = Object[\"values\"](result[2])[0].split(\"/\");\r\n\r\n        return result_list[result_list.length - 1];\r\n    }\r\n\r\n    _getDateString(): string {\r\n        var d = new Date();\r\n        var str = d.getHours() + \"\";\r\n        var timeStr = \"\";\r\n        timeStr += (str.length === 1 ? (\"0\" + str) : str) + \":\";\r\n\r\n        str = d.getMinutes() + \"\";\r\n        timeStr += (str.length === 1 ? (\"0\" + str) : str) + \":\";\r\n\r\n        str = d.getSeconds() + \"\";\r\n        timeStr += (str.length === 1 ? (\"0\" + str) : str) + \".\";\r\n\r\n        str = d.getMilliseconds() + \"\";\r\n        if (str.length === 1) str = \"00\" + str;\r\n        if (str.length === 2) str = \"0\" + str;\r\n        timeStr += str;\r\n\r\n        timeStr = '[' + timeStr + ']';\r\n\r\n        return timeStr;\r\n    }\r\n}\r\n"]}